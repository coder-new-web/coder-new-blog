---
title: DNS域名解析
date: 2022-03-01
category:
  - 网络与网络安全
tag:
  - http缓存
---


网上访问资源实际就是访问主机IP地址，域名的出现本身也就是为了方便记忆，例如`www.baidu.com`可以一眼记住，但是各种无序的号码就会让人眼花缭乱也不方便记忆

### DNS域名解析大致流程
用户输入某一网址->本地解析->本地找到了->返回域名对应的IP地址
用户输入某一网址->本地解析->本地找不到->互联网域名服务器解析->返回域名对应的IP地址

### 本地解析
用户输入某一网址后，首先会去**浏览器缓存**里查找，如果找到了就直接返回IP地址。
如果没有找到就去**系统缓存（操作系统DNS缓存）**里面去找，如果找到了就直接返回IP地址。
如果还是没有找到，就去**本地HOST文件**查找，如过找到了就返回IP地址。
如果还是没有找到就进入下一阶段——**互联网域名服务器解析**

### 互联网域名服务器解析
客户端会找到**本地DNS服务器**，让**本地DNS服务器**帮忙解析出域名对应的IP地址。
首先**本地DNS服务器**会先在自己的缓存里查找，如果找到了，就直接返回IP地址。
如果没有找到，**本地DNS服务器**就会麻烦**根服务器**根据域名查找对应的IP地址，
而**根服务器**并不会直接帮你找，它发现用户输入的域名后缀为：`.com`，然后**根服务器**会提供`.com`**服务器**（管理员）地址，让**本地DNS服务器**去找对应的`.com`**服务器**（管理员）。然后`.com`**服务器**也不会直接帮你找，它看了域名是`www.baidu.com`然后就会提供`www.baidu.com`服务器地址，让本地DNS服务器自己找对应的`www.baidu.com`服务器，此时`www.baidu.com`服务器告诉了本地DNS服务器地址说，`www.baidu.com`对应的服务器地址是
`14.245.177.39`，然后本地DNS服务器会根据用户输入的域名找到的IP地址返回给客户端。

`www.baidu.com`：`14.245.177.39`
`baidu.com`:`14.215.177.39`
